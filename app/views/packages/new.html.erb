<div class="container mt-4">

  <!-- Formulaire unique -->
  <%= form_with url: packages_path, method: :get, local: true, data: { controller: "package-form"} do |f| %>

    <!-- Première Carte -->
    <div class="card-package mb-4 position-relative rounded shadow" data-package-form-target="firstQuestion">
      <div class="card-image blurred-image" style="background-image:url('<%= Cloudinary::Utils.cloudinary_url("radoslav-bali-rtWu9kJ6TC0-unsplash_sfybvn") %>'); background-size: cover; background-position: center; height: 250px; border-radius: 10px; position: relative; overflow: hidden;">
          <div style="position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(255, 255, 255, 0.5);
              pointer-events: none;">
          </div>
        <div class="text-on-image text-center">
          <h1 class="card-title">Tes goûts</h1>
          <h2 class="card-subtitle">Comment te définis-tu en matière de décoration et ameublement ?</h2>
        </div>
      </div>
      <div class="card-body">
        <div class="d-grid gap-3 mt-4">
          <%= f.radio_button :definition, "passionne", id: "definition_passionne", class: "btn-check" %>
          <%= f.label :definition, "Je suis passionné de déco et je viens ici pour m'inspirer", for: "definition_passionne", class: "btn btn-passionne w-100", data: {action: "click->package-form#displaySecondQuestion"} %>

          <%= f.radio_button :definition, "aime_pas_temps", id: "definition_aime_pas_temps", class: "btn-check" %>
          <%= f.label :definition, "J'aime bien mais je n'ai pas le temps", for: "definition_aime_pas_temps", class: "btn btn-aime w-100", data: {action: "click->package-form#displaySecondQuestion"} %>

          <%=f.radio_button :definition, "nul", id: "definition_nul", class: "btn-check" %>
          <%= f.label :definition, "Je suis nul et ça ne m'intéresse pas", for: "definition_nul", class: "btn btn-nul w-100", data: {action: "click->package-form#displaySecondQuestion"} %>

        </div>
      </div>
    </div>

    <!-- Deuxième Carte -->
    <div class="card-package mb-4 position-relative rounded shadow second-card d-none" data-package-form-target="secondQuestion">
      <div class="card-image blurred-image" style="background-image:url('<%= Cloudinary::Utils.cloudinary_url("cameron-smith-CTxNVSiWZBw-unsplash_e1kdub") %>'); background-size: cover; background-position: center; height: 250px; border-radius: 1Opx;position: relative;overflow: hidden;">
          <div style="position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(255, 255, 255, 0.5);
              pointer-events: none;">
          </div>
        <div class="text-on-image text-center position-relative">
          <h1 class="card-title"> Les pièces</h1>
          <h2 class="card-subtitle">Quelle pièce veux-tu meubler et décorer ?</h2>
        </div>
      </div>
      <div class="card-body">
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <%= f.check_box :salon, { class: "form-check-input me-2", data: { action: "change->package-form#displaySlider" } }, '1', '0' %>
            <%= f.label :salon, "Salon", class: "form-check-label" %>
</li>
          <li class="list-group-item">
            <%= f.check_box :chambre, class: "form-check-input me-2" %>
            <%= f.label :chambre, "Chambre", class: "form-check-label" %>
          </li>
          <li class="list-group-item">
            <%= f.check_box :salle_de_bain, class: "form-check-input me-2" %>
            <%= f.label :salle_de_bain, "Salle de Bain", class: "form-check-label" %>
          </li>
          <li class="list-group-item">
            <%= f.check_box :cuisine, class: "form-check-input me-2" %>
            <%= f.label :cuisine, "Cuisine", class: "form-check-label" %>
          </li>
        </ul>
        <div class="text-center mt-3">
         <span class="btn btn-valider mt-3" data-action="click->package-form#displayThirdQuestion"<%=data-action="click->package-form#displaySlider" if params[:salon] == '1'%>>Valider</span>
        </div>
      </div>
    </div>

    <!-- Troisième Carte -->
    <div class="card-package mb-4 position-relative rounded shadow third-card d-none" data-package-form-target="thirdQuestion">
      <div class="card-image blurred-image" style="background-image:url('<%= Cloudinary::Utils.cloudinary_url("bailey-alexander-cYeCxtKpTTQ-unsplash_zdcd9j") %>'); background-size: cover; background-position: center; height: 250px; border-radius: 10px;position: relative; overflow: hidden;">
          <div style="position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(255, 255, 255, 0.5);
              pointer-events: none;">
          </div>
        <div class="text-on-image text-center position-relative">
          <h1 class="card-title">Ton budget</h1>
          <h2 class="card-subtitle">Quel est le budget que tu veux allouer à ton projet déco ?</h2>
        </div>
      </div>
      <div class="card-body mx-15">


<%# <% if params[:salon] == '1' %>
  <%# <p>The box is checked</p>
<% else %>
  <%# <p>The box Salon is not checked</p>
<% end %>


<div id="slider-container-chambre" data-package-form-target="slider" class = "d-none">
  <div class="wrapper">
    <h3>Budget Salon</h3>
    <div class="values">
      <span id="range1">0</span>
      <span>&dash;</span>
      <span id="range2">5000</span>
    </div>

    <div class="container wrapper-container">
      <div class="slider-track">
        <input type="range" min="0" max="5000" value="1500" step="50" id="slider-1" oninput="slideOne()">
        <input type="range" min="0" max="5000" value="3000" step="50" id="slider-2" oninput="slideTwo()">
      </div>
    </div>
  </div>
</div>



<%= javascript_include_tag 'script', defer: true %>



    <%# <div class="slider-container mr-25">
        <span id="min-value">0</span>
            <div class="slider">
                <input type="range" id="min-slider" min="0" max="5000" value="0" class="z-0">
                <input type="range" id="max-slider" min="0" max="5000" value="5000" class="z-0">
            </div>
            <span id="max-value">5000</span>
        </div>

 %>


        <div class="text-center mt-3">
          <%= f.submit "Valider", class: "btn btn-validate mt-3" %>
        </div>
      </div>
    </div>
  <% end %>
